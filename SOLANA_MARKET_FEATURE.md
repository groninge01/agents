# Solana Up or Down å¸‚åœºè´­ä¹°åŠŸèƒ½è¯´æ˜

## âœ… åŠŸèƒ½çŠ¶æ€

### 1. **å¸‚åœºæŸ¥æ‰¾åŠŸèƒ½** âœ… å·²å®Œæˆ
- **ä½ç½®**: `scripts/python/buy_solana_up_down.py` çš„ `find_solana_market()` å‡½æ•°
- **æŸ¥æ‰¾æ–¹å¼**:
  1. **å…³é”®è¯æœç´¢**: "solana up or down", "sol up/down" ç­‰
  2. **Slug æ¨¡å¼åŒ¹é…**: `sol-updown-15m`, `sol-updown`, `solana-updown`
- **éªŒè¯æ¡ä»¶**: 
  - å¸‚åœºå¿…é¡»æ´»è·ƒ (`active=True`)
  - å¸‚åœºæœªå…³é—­ (`closed=False`)
  - è®¢å•ç°¿å·²å¯ç”¨ (`enableOrderBook=True`)

### 2. **å¸‚åœºè´­ä¹°åŠŸèƒ½** âœ… å·²å®Œæˆ
- **ä½ç½®**: `scripts/python/buy_solana_up_down.py` çš„ `buy_solana_market()` å‡½æ•°
- **åŠŸèƒ½**:
  - è‡ªåŠ¨è·å–è®¢å•ç°¿
  - ä½¿ç”¨æœ€ä½ Ask ä»·æ ¼ä¹°å…¥
  - æ”¯æŒ Yes/No æ–¹å‘é€‰æ‹©
  - æ”¯æŒæ¨¡æ‹Ÿæ¨¡å¼ï¼ˆDry Runï¼‰
  - è‡ªåŠ¨æ·»åŠ åˆ°æŒä»“ç›‘æ§

### 3. **è½®è¯¢è´­ä¹°åŠŸèƒ½** âœ… å·²å®Œæˆ
- **ä½ç½®**: `scripts/python/buy_solana_up_down.py` çš„ `poll_and_buy_solana()` å‡½æ•°
- **åŠŸèƒ½**:
  - æ¯ç§’è½®è¯¢æ£€æŸ¥å¸‚åœºæ˜¯å¦å¼€ç›˜
  - ä¸€æ—¦æ‰¾åˆ°å¼€ç›˜å¸‚åœºï¼Œç«‹å³è´­ä¹°
  - æ”¯æŒè®¾ç½®æœ€å¤§ç­‰å¾…æ—¶é—´ï¼ˆé»˜è®¤15åˆ†é’Ÿï¼‰
  - è‡ªåŠ¨æ·»åŠ åˆ°æŒä»“ç›‘æ§ï¼ˆéæ¨¡æ‹Ÿæ¨¡å¼ï¼‰

### 4. **API é›†æˆ** âœ… å·²å®Œæˆ
- **ä½ç½®**: `admin/api.py` çš„ `execute_trade()` å‡½æ•°
- **æ”¯æŒå‚æ•°**:
  - `market_type`: "auto" æˆ– "solana"
  - `solana_side`: "Yes" æˆ– "No"
  - `amount_per_trade`: è´­ä¹°é‡‘é¢ï¼ˆæœ€å¤§ 1.0 USDCï¼‰
  - `dry_run`: æ˜¯å¦æ¨¡æ‹Ÿè¿è¡Œ

### 5. **å‰ç«¯ UI** âš ï¸ éƒ¨åˆ†å®Œæˆ
- **çŠ¶æ€**: åç«¯ API å·²æ”¯æŒï¼Œä½†å‰ç«¯ UI ä¸­è¿˜æ²¡æœ‰ Solana å¸‚åœºé€‰æ‹©çš„é€‰é¡¹
- **å½“å‰çŠ¶æ€**: 
  - å‰ç«¯åªå‘é€ `market_type="auto"`ï¼ˆé»˜è®¤å€¼ï¼‰
  - éœ€è¦æ·»åŠ  UI é€‰é¡¹æ¥é€‰æ‹© "Solana Up or Down" å¸‚åœºç±»å‹

## ğŸ“‹ åŠŸèƒ½æµç¨‹

### æŸ¥æ‰¾å¸‚åœºæµç¨‹
1. è·å–æ‰€æœ‰æ´»è·ƒå¸‚åœºï¼ˆæœ€å¤š500ä¸ªï¼‰
2. æ£€æŸ¥æ¯ä¸ªå¸‚åœºçš„ï¼š
   - Questionï¼ˆé—®é¢˜ï¼‰
   - Descriptionï¼ˆæè¿°ï¼‰
   - Slugï¼ˆURLæ ‡è¯†ç¬¦ï¼‰
3. åŒ¹é…å…³é”®è¯æˆ– Slug æ¨¡å¼
4. éªŒè¯å¸‚åœºçŠ¶æ€ï¼ˆæ´»è·ƒã€æœªå…³é—­ã€è®¢å•ç°¿å¯ç”¨ï¼‰

### è´­ä¹°æµç¨‹
1. æŸ¥æ‰¾ Solana å¸‚åœº
2. è·å– Token IDs
3. æ ¹æ®æ–¹å‘ï¼ˆYes/Noï¼‰é€‰æ‹©å¯¹åº”çš„ Token ID
4. è·å–è®¢å•ç°¿
5. ä½¿ç”¨æœ€ä½ Ask ä»·æ ¼è®¡ç®—è´­ä¹°æ•°é‡
6. æ‰§è¡Œä¹°å…¥è®¢å•
7. æ·»åŠ åˆ°æŒä»“ç›‘æ§ï¼ˆéæ¨¡æ‹Ÿæ¨¡å¼ï¼‰

### è½®è¯¢æµç¨‹
1. æ¯ç§’æ£€æŸ¥ä¸€æ¬¡å¸‚åœº
2. å¦‚æœæ‰¾åˆ°å¸‚åœºï¼Œæ£€æŸ¥è®¢å•ç°¿æ˜¯å¦å¯ç”¨
3. å¦‚æœè®¢å•ç°¿å¯ç”¨ï¼Œæ‰§è¡Œè´­ä¹°
4. å¦‚æœè´­ä¹°æˆåŠŸï¼Œæ·»åŠ åˆ°ç›‘æ§å¹¶è¿”å›
5. å¦‚æœè¶…æ—¶ï¼Œè¿”å› None

## ğŸ”§ ä½¿ç”¨æ–¹æ³•

### æ–¹æ³• 1: ç›´æ¥è°ƒç”¨è„šæœ¬

```bash
# æ¨¡æ‹Ÿè¿è¡Œ
python scripts/python/buy_solana_up_down.py

# çœŸå®äº¤æ˜“
python scripts/python/buy_solana_up_down.py --execute
```

### æ–¹æ³• 2: é€šè¿‡ Python ä»£ç è°ƒç”¨

```python
from agents.polymarket.gamma import GammaMarketClient
from agents.polymarket.polymarket import Polymarket
from scripts.python.buy_solana_up_down import poll_and_buy_solana

gamma = GammaMarketClient()
polymarket = Polymarket()

result = poll_and_buy_solana(
    gamma=gamma,
    polymarket=polymarket,
    amount=1.0,           # è´­ä¹°é‡‘é¢
    side='Yes',           # æˆ– 'No'
    dry_run=False,        # æˆ– Trueï¼ˆæ¨¡æ‹Ÿæ¨¡å¼ï¼‰
    max_wait_minutes=15   # æœ€å¤§ç­‰å¾…æ—¶é—´
)
```

### æ–¹æ³• 3: é€šè¿‡ APIï¼ˆéœ€è¦å‰ç«¯æ”¯æŒï¼‰

```bash
curl -X POST http://localhost:8888/api/trade/execute \
  -H "Content-Type: application/json" \
  -d '{
    "num_trades": 1,
    "amount_per_trade": 1.0,
    "trade_type": "buy",
    "market_type": "solana",
    "solana_side": "Yes",
    "dry_run": false
  }'
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **å¸‚åœºå¼€ç›˜æ—¶é—´**: Solana Up or Down å¸‚åœºæ¯15åˆ†é’Ÿå¼€ç›˜ä¸€æ¬¡
2. **è½®è¯¢é¢‘ç‡**: æ¯ç§’æ£€æŸ¥ä¸€æ¬¡ï¼Œç¡®ä¿èƒ½åŠæ—¶æ•æ‰åˆ°å¼€ç›˜
3. **æœ€å¤§ç­‰å¾…æ—¶é—´**: é»˜è®¤15åˆ†é’Ÿï¼Œå¯ä»¥åœ¨ä»£ç ä¸­è°ƒæ•´
4. **è´­ä¹°é‡‘é¢**: æœ€å° $1.05 USDCï¼ˆAPI é™åˆ¶ï¼‰
5. **æŒä»“ç›‘æ§**: è´­ä¹°æˆåŠŸåä¼šè‡ªåŠ¨æ·»åŠ åˆ°ç›‘æ§ç³»ç»Ÿï¼Œæ”¯æŒè‡ªåŠ¨æ­¢ç›ˆ/æ­¢æŸ

## ğŸ” æµ‹è¯•å»ºè®®

1. **å…ˆä½¿ç”¨æ¨¡æ‹Ÿæ¨¡å¼æµ‹è¯•**:
   ```python
   poll_and_buy_solana(..., dry_run=True)
   ```

2. **æ£€æŸ¥æ—¥å¿—è¾“å‡º**: æŸ¥çœ‹æ˜¯å¦æˆåŠŸæ‰¾åˆ°å¸‚åœº
3. **éªŒè¯è®¢å•ç°¿**: ç¡®ä¿è®¢å•ç°¿å¯ç”¨
4. **æµ‹è¯•è´­ä¹°**: ç¡®è®¤è´­ä¹°é€»è¾‘æ­£ç¡®

## ğŸ“ TODO

- [ ] åœ¨å‰ç«¯ UI ä¸­æ·»åŠ  Solana å¸‚åœºé€‰æ‹©é€‰é¡¹
- [ ] æ·»åŠ  Solana å¸‚åœºçŠ¶æ€æ˜¾ç¤º
- [ ] ä¼˜åŒ–é”™è¯¯å¤„ç†å’Œé‡è¯•é€»è¾‘






